<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shadow Locate 3D - Ultimate</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800;900&display=swap" rel="stylesheet">
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üåç</text></svg>">
    
    <script src="https://unpkg.com/globe.gl"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>
<body>

    <div id="splash-screen">
        <h1 class="main-title">SHADOW LOCATE</h1>
        <h3 class="credit-text">by Ceren Catak</h3>
        <div class="globe-icon">üåç</div>
        <button class="btn pulse-btn" onclick="showTutorial()">ENTER GAME</button>
    </div>

    <div id="tutorial-screen" style="display: none;">
        <div class="speech-bubble tutorial-bubble">
            <p id="tutorial-text">...</p>
        </div>
        <div class="geo-mascot">
            <div class="mascot-body">
                <div class="land land-1"></div>
                <div class="land land-2"></div>
                <div class="face">
                    <div class="eye left"></div>
                    <div class="eye right"></div>
                    <div class="mouth"></div>
                    <div class="cheeks"></div>
                </div>
            </div>
            <div class="shadow"></div>
        </div>
        <div class="tutorial-controls">
            <button class="btn-small" onclick="closeTutorial()">SKIP</button>
            <button class="btn" onclick="nextTutorialStep()" id="next-step-btn">NEXT ‚ûî</button>
        </div>
    </div>

    <div id="start-screen" style="display: none;">
        <h1 class="title">SURVIVAL MODE</h1>
        <p class="desc">Enter your name to join the leaderboard.</p>
        <input type="text" id="player-name-input" class="name-input" placeholder="YOUR NAME..." maxlength="12" autocomplete="off">
        <button class="btn" onclick="initGame()">START GAME ‚ô´</button>
    </div>

    <div id="ui-sidebar">
        <div class="stat-card">
            <span class="stat-label">SCORE</span>
            <span id="score" class="stat-value">0</span>
        </div>
        <div class="stat-card">
            <span class="stat-label">TIME</span>
            <span id="total-timer" class="stat-value">0s</span>
        </div>
        <div class="stat-card">
            <span class="stat-label">LIVES</span>
            <span id="lives" class="stat-value">‚ô•‚ô•‚ô•</span>
        </div>
        
        <div id="round-timer-card" class="stat-card" style="display: none; border-color: #f87171;">
            <span class="stat-label" style="color: #f87171;">TIME LEFT</span>
            <span id="round-timer" class="stat-value" style="color: #f87171;">10</span>
        </div>
    </div>

    <div id="game-companion" onclick="useHint()">
        <div id="companion-bubble" class="speech-bubble">Need a hint?</div>
        <div class="geo-mascot small-mascot" id="companion-mascot">
            <div class="mascot-body">
                <div class="land land-1"></div>
                <div class="land land-2"></div>
                <div class="face">
                    <div class="eye left"></div>
                    <div class="eye right"></div>
                    <div class="mouth"></div>
                    <div class="cheeks"></div>
                </div>
            </div>
        </div>
        <div class="mascot-label">üí° ASK FOR HINT (-5)</div>
    </div>

    <div id="hard-mode-alert">
        <div class="speech-bubble alert-bubble">
            <p><strong>YOU ARE ON FIRE!</strong><br>üî• <strong>HARD MODE</strong> is starting! üî•<br>You only have 10 seconds per round!</p>
        </div>
        <div class="geo-mascot">
            <div class="mascot-body">
                <div class="land land-1"></div>
                <div class="land land-2"></div>
                <div class="face"><div class="eye left"></div><div class="eye right"></div><div class="mouth"></div><div class="cheeks"></div></div>
            </div>
        </div>
        <button class="btn" onclick="closeHardModeAlert()" style="margin-top: 20px;">ACCEPT CHALLENGE</button>
    </div>

    <div id="result-window">
        <div id="result-country">COUNTRY NAME</div>
        <div id="result-status">STATUS</div>
        <div id="result-distance">0 km</div>
    </div>

    <div id="silhouette-overlay">
        <h2 id="phase-text">3</h2>
        <img id="shadow-img" src="" alt="Shadow">
    </div>

    <div id="game-over">
        <h1 id="end-title">GAME OVER</h1>
        <h2 id="final-score">Score: 0</h2>
        <p id="end-msg"></p>
        <div class="highscore-box">
            <h3>üèÜ TOP PLAYERS üèÜ</h3>
            <ul id="highscore-list"></ul>
        </div>
        <div style="display: flex; gap: 10px; justify-content: center;">
            <button class="btn" onclick="resetGame()">PLAY AGAIN</button>
            <button class="btn" style="background: #3b82f6;" onclick="shareScore()">üì§ SHARE SCORE</button>
        </div>
    </div>

    <div id="globeViz"></div>

    <script src="script.js"></script>
</body>
</html>